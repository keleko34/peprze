window.Promise=function(){function b(a,c,k,b){return{value:a,writable:!!c,enumerable:!!k,configurable:!!b}}function d(a,c,b,l){return{get:a,set:c,enumerable:!!b,configurable:!!l}}function e(a){Object.defineProperties(this,{__value:b([],!0),__resolve:b([],!0),__reject:b([],!0),__rejected:b(!1,!0),__awaiting:b(!0,!0),__fulfilled:b(!1,!0),__aborted:b(!1,!0),__base:b(void 0,!0),__control:b(a),__finished:b(void 0,!0),__passed:b(void 0,!0)});Object.defineProperties(this,{value:d(function(){return this.__value[0]},
function(){},!0),control:d(function(){return this.__control},function(){},!0),fulfilled:d(function(){return this.__fulfilled},function(){},!0)});setTimeout(function(){this.__control.call(this,this.resolve.bind(this),this.reject.bind(this))}.bind(this),0)}function m(a,c){var b=this,l=this.__resolve,h=this.__reject,e=this.__finished,f=this.__base,g=c.__value;Object.defineProperty(g,g.length,d(function(){return a.__value[0]},function(){},!0,!0));this.__fulfilled=this.fulfilled=this.__aborted=!0;this.__resolve=
[];this.__reject=[];this.__passed=a;a.__resolve=a.__resolve.concat(l);a.__reject=a.__reject.concat(h);a.__base=f;if(e){var n=a.__finished;a.__finished=function(){n&&n.apply(this,arguments);e.apply(f||b,g)}}a.fulfilled&&!a.__aborted&&a[a.rejected?"reject":"resolve"].call(a)}function p(a,c){this.__awaiting=!1;void 0!==c&&(this.__value[0]=c);a&&(this.__rejected=!0);var b=this[a?"__reject":"__resolve"].splice(0,1)[0];if(b){c=b.apply(this.__base||this,b.__value);if(c instanceof e)return m.call(this,c,
b);void 0!==c&&(b.__value[0]=c);this[a?"reject":"resolve"].call(this,c)}else if(this.__fulfilled=this.fulfilled=!0,this.__finished){c=this.__finished.apply(this,this.__finished.__value);if(c instanceof e)return m.call(this,c,this.__finished);void 0!==c&&(this.__value[0]=c)}}Object.defineProperties(e.prototype,{resolve:b(function(a){return p.call(this,0,a)}),reject:b(function(a){return p.call(this,1,a)}),then:b(function(a,c){var b=this;this.__resolve.push(a);Object.defineProperty(a,"__value",d(function(){return this.__value}.bind(this),
function(){},!1,!0));c&&(this.__reject.push(c),Object.defineProperty(c,"__value",d(function(){return this.__value}.bind(this),function(){},!1,!0)));!this.__fulfilled||this.__aborted||this.__rejected||this.resolve();this.__aborted&&this.__passed.then(function(){b.resolve(b.value)});return this},!1,!0),catch:b(function(a){var b=this;this.__reject.push(a);Object.defineProperty(a,"__value",d(function(){return this.__value}.bind(this),function(){},!1,!0));this.__fulfilled&&!this.__aborted&&this.__rejected&&
this.resolve();this.__aborted&&this.__passed.catch(function(){b.reject(b.value)});return this},!1,!0),finally:b(function(a){this.__finished=a;Object.defineProperty(a,"__value",d(function(){return this.__value}.bind(this),function(){}))},!1,!0)});Object.defineProperties(e,{all:b(function(a){return new e(function(b,e){var c=this,h=0,d=a.length,f=!1,g=0;for(h;h<d;h++)a[h].then(function(){g+=1;g===d&&(c.__value=a.map(function(a){return a.value}),(f?e:b).apply(c.__base||c))}).catch(function(){g+=1;f=!0;
g===d&&(c.__value=a.map(function(a){return a.value}),e.apply(c.__base||c))})})},!1,!0),race:b(function(a){return new e(function(b,e){var c=this,d=0,k=a.length,f=!1;for(d;d<k;d++)a[d].then(function(a){f||b.apply(c.__base||c,[a]);f=!0}).catch(function(a){f||e.apply(c.__base||c,[a]);f=!0})})},!1,!0),resolve:b(function(){var a=arguments;return new e(function(b){b.apply(this,a)})},!1,!0),reject:b(function(){var a=arguments;return new e(function(b,d){d.apply(this,a)})},!1,!0)});return e}();