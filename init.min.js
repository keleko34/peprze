window.Promise=function(){function b(a,c,b,e){return{value:a,writable:!!c,enumerable:!!b,configurable:!!e}}function g(a,c,b,e){return{get:a,set:c,enumerable:!!b,configurable:!!e}}function d(a){this.value=void 0;this.fulfilled=!1;this.control=a;Object.defineProperties(this,{__value:b([this.value],!0),__resolve:b([],!0),__reject:b([],!0),__rejected:b(!1,!0),__awaiting:b(!0,!0),__fulfilled:b(!1,!0),__aborted:b(!1,!0),__base:b(void 0,!0),__control:b(a),__finished:b(void 0,!0)});setTimeout(function(){this.__control.call(this,
this.resolve.bind(this),this.reject.bind(this))}.bind(this),0)}function l(a,c){var b=this.__resolve,e=this.__reject;c=c.__value;Object.defineProperty(c,c.length,g(function(){return a.__value[0]},function(){},!0,!0));this.__fulfilled=this.fulfilled=!0;this.__base=this.__reject=this.__resolve=null;this.__aborted=!0;a.__resolve=a.__resolve.concat(b);a.__reject=a.__reject.concat(e);a.fulfilled&&!a.__aborted&&a[a.rejected?"reject":"resolve"].call(a)}function m(a,c){this.__awaiting=!1;void 0!==c&&(this.__value[0]=
this.value=c);a&&(this.__rejected=!0);var b=this[a?"__reject":"__resolve"].splice(0,1)[0];if(b){c=b.apply(this.__base||this,b.__value);if(c instanceof d)return l.call(this,c,b);void 0!==c&&(b.__value[0]=this.value=c);this[a?"reject":"resolve"].call(this,c)}else if(this.__fulfilled=this.fulfilled=!0,this.__finished){c=this.__finished.apply(this,this.__finished.__value);if(c instanceof d)return l.call(this,c,this.__finished);void 0!==c&&(this.__finished.__value[0]=this.value=c)}}Object.defineProperties(d.prototype,
{resolve:b(function(a){return m.call(this,0,a)}),reject:b(function(a){return m.call(this,1,a)}),then:b(function(a,c){this.__resolve.push(a);Object.defineProperty(a,"__value",g(function(){return this.__value}.bind(this),function(){},!1,!0));c&&(this.__reject.push(c),Object.defineProperty(c,"__value",g(function(){return this.__value}.bind(this),function(){},!1,!0)));!this.__fulfilled||this.__aborted||this.__rejected||this.resolve();return this},!1,!0),catch:b(function(a){this.__reject.push(a);Object.defineProperty(a,
"__value",g(function(){return this.__value}.bind(this),function(){},!1,!0));this.__fulfilled&&!this.__aborted&&this.__rejected&&this.resolve();return this},!1,!0),finally:b(function(a){this.__finished=a;Object.defineProperty(a,"__value",g(function(){return this.__value}.bind(this),function(){}))},!1,!0)});Object.defineProperties(d,{all:b(function(a){return new d(function(c,b){var e=this,f=0,d=a.length,h=!1,k=0;for(f;f<d;f++)a[f].then(function(){k+=1;k===d&&(e.__value=a.map(function(a){return a.value}),
(h?b:c).apply(e.__base||e))}).catch(function(){k+=1;h=!0;k===d&&(e.__value=a.map(function(a){return a.value}),b.apply(e.__base||e))})})},!1,!0),race:b(function(a){return new d(function(b,d){var c=this,f=0,g=a.length,h=!1;for(f;f<g;f++)a[f].then(function(a){h||b.apply(c.__base||c,[a]);h=!0}).catch(function(a){h||d.apply(c.__base||c,[a]);h=!0})})},!1,!0)});return d}();