window.Promise=function(){function b(a,c,b,k){return{value:a,writable:!!c,enumerable:!!b,configurable:!!k}}function l(a,c,b,k){return{get:a,set:c,enumerable:!!b,configurable:!!k}}function d(a){this.value=void 0;this.fulfilled=!1;this.control=a;Object.defineProperties(this,{__value:b([],!0),__resolve:b([],!0),__reject:b([],!0),__rejected:b(!1,!0),__awaiting:b(!0,!0),__fulfilled:b(!1,!0),__aborted:b(!1,!0),__base:b(void 0,!0),__control:b(a),__finished:b(void 0,!0),__passed:b(void 0,!0)});setTimeout(function(){this.__control.call(this,
this.resolve.bind(this),this.reject.bind(this))}.bind(this),0)}function m(a,c){var b=this,k=this.__resolve,e=this.__reject,g=this.__finished,f=this.__base,h=c.__value;Object.defineProperty(h,h.length,l(function(){return a.__value[0]},function(){},!0,!0));this.__fulfilled=this.fulfilled=this.__aborted=!0;this.__resolve=[];this.__reject=[];this.__passed=a;a.__resolve=a.__resolve.concat(k);a.__reject=a.__reject.concat(e);a.__base=f;if(g){var d=a.__finished;a.__finished=function(){d&&d.apply(this,arguments);
g.apply(f||b,h)}}a.fulfilled&&!a.__aborted&&a[a.rejected?"reject":"resolve"].call(a)}function n(a,c){this.__awaiting=!1;void 0!==c&&(this.__value[0]=this.value=c);a&&(this.__rejected=!0);var b=this[a?"__reject":"__resolve"].splice(0,1)[0];if(b){c=b.apply(this.__base||this,b.__value);if(c instanceof d)return m.call(this,c,b);void 0!==c&&(b.__value[0]=this.value=c);this[a?"reject":"resolve"].call(this,c)}else if(this.__fulfilled=this.fulfilled=!0,this.__finished){c=this.__finished.apply(this,this.__finished.__value);
if(c instanceof d)return m.call(this,c,this.__finished);void 0!==c&&(this.__finished.__value[0]=this.value=c)}}Object.defineProperties(d.prototype,{resolve:b(function(a){return n.call(this,0,a)}),reject:b(function(a){return n.call(this,1,a)}),then:b(function(a,b){var c=this;this.__resolve.push(a);Object.defineProperty(a,"__value",l(function(){return this.__value}.bind(this),function(){},!1,!0));b&&(this.__reject.push(b),Object.defineProperty(b,"__value",l(function(){return this.__value}.bind(this),
function(){},!1,!0)));!this.__fulfilled||this.__aborted||this.__rejected||this.resolve();this.__aborted&&this.__passed.then(function(){c.resolve()});return this},!1,!0),catch:b(function(a){var b=this;this.__reject.push(a);Object.defineProperty(a,"__value",l(function(){return this.__value}.bind(this),function(){},!1,!0));this.__fulfilled&&!this.__aborted&&this.__rejected&&this.resolve();this.__aborted&&this.__passed.catch(function(){b.reject()});return this},!1,!0),finally:b(function(a){this.__finished=
a;Object.defineProperty(a,"__value",l(function(){return this.__value}.bind(this),function(){}))},!1,!0)});Object.defineProperties(d,{all:b(function(a){return new d(function(b,d){var c=this,e=0,g=a.length,f=!1,h=0;for(e;e<g;e++)a[e].then(function(){h+=1;h===g&&(c.__value=a.map(function(a){return a.value}),(f?d:b).apply(c.__base||c))}).catch(function(){h+=1;f=!0;h===g&&(c.__value=a.map(function(a){return a.value}),d.apply(c.__base||c))})})},!1,!0),race:b(function(a){return new d(function(b,d){var c=
this,e=0,g=a.length,f=!1;for(e;e<g;e++)a[e].then(function(a){f||b.apply(c.__base||c,[a]);f=!0}).catch(function(a){f||d.apply(c.__base||c,[a]);f=!0})})},!1,!0)});return d}();